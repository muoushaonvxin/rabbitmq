
一般情况下, 可以使用默认的内建配置来有效地运行 RabbitMQ. 并且大多数情况下也并不需要修改任何 RabbitMQ 的配置. 当然, 为了更加有效地操控 RabbitMQ 也可以利用调节系统范围内的参数来达到定制化的需求.

### RabbitMQ 提供了三种方式来定制化服务

<br/>

1) 环境变量 (Enviroment Variables) RabbitMQ 服务端参数可以通过环境变量进行配置, 例如, 节点名称, RabbitMQ 配置文件的地址, 节点内部通信端口等.
2) 配置文件 (Configuration File) 可以定义 RabbitMQ 服务和插件设置. 例如: TCP监听端口, 以及其它网络相关的设置, 内存限制, 磁盘限制等
3) 运行时参数和策略 (Runtime Parameters and Policies). 可以在运行时定义集群层面的服务设置.

对于不同的操作系统和不同的 RabbitMQ 安装包来说, 相应的配置会有所变化, 包括相应的配置文件的地址等, 在使用时要尤为注意.

RabbitMQ 的环境变量都是以 "RABBITMQ_" 开头的, 可以在 shell 环境中设置, 也可以在 rabbitmq-env.conf 这个 RabbitMQ 环境变量的定义文件中设置. 如果实在非 Shell环境中配置, 则需要将 "RABBITMQ_" 这个前缀驱除, 优先级顺序按照 Shell 环境最优先, 其次 rabbitmq-env.conf 配置文件, 最后是默认的配置.

当采用 rabbitmq-server -detached 启动 RabbitMQ 服务的时候, 此服务节点默认以 "rabbit@" 加上当前的 Shell 环境的hostname 来命名, 即 rabbit@$HOSTNAME. 参考下面, 当前 Shell 环境的hostname为 "node1".

```shell
[root@zhangyz ~]# rabbitmq-server -detached
Warning: PID file not written; -detached was passed.
[root@zhangyz ~]# rabbitmqctl cluster_status
Cluster status of node rabbit@node1
[{nodes,[{disc,[rabbit@node1]}]},
 {running_nodes, [rabbit@node1]},
 {cluster_name, <<"rabbit@node1">>},
 {partitions, []},
 {alarms, [{rabbit@node1, []}]}] // 有些比较旧的版本是没有 alarms 这一项的
```

如果需要制定节点的名称, 而不是采用默认的方式, 可以在 rabbitmq-server 命令前添加 RABBITMQ_NODENAME 变量来设定指定的名称. 如下所示, 此时创建的节点名称为 "rabbit@node2" 而非 "rabbit@node1".

```shell
[root@zhangyz ~]# RABBITMQ_NODENAME=rabbit@node2 rabbitmq-server -detached
Warning: PID file not written; -detached was passwd.
```

